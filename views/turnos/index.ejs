<%
var monthArray = ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"];
var zeroPadding = function(hour) {
	if (hour < 10) {
		return "0" + hour;
	}
	return hour;
}

var formatDate = function(currentDate) {
	return currentDate.getDate() + " de " + monthArray[currentDate.getMonth()] + " de " + currentDate.getFullYear();
}

var formatTime = function(currentDate) {
	return zeroPadding(currentDate.getHours()) + ":" + zeroPadding(currentDate.getMinutes());
}

%>
<div class="flexBoxTurnos">
<% for (var i in turnos) {
 	var turn = turnos[i];
	var date = new Date(turn.date);
	var dateNoTime = new Date(turn.date);
	dateNoTime.setHours(0,0,0,0);
	%> 
		<div class="turno" data-date="<%=dateNoTime.getTime()%>">
			<div class="hora">
				<%= formatTime(date) %>
			</div>
			<div class="indications">
				<% if (turn.indications) { %>
					<%= turn.indications %> <br/>
				<% } else { %> 
					<em class="no-indications"> Sin indicaciones</em>
				<% } %>
			</div>
			<form method="POST"  action="/escapeRooms/<%= escapeRoom.id %>/turnos/<%=turn.id%>?_method=DELETE">
        		<button type="submit" class="little-button less"><i class="material-icons">delete</i></button>
        	</form>
		</div>
       
<%}%>
<% include ./new %>
</div>
